<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Générateur de transparence IA</title>
    <style>
        :root {
            --bg-color: #FAFAFA;
            --text-color: #111;
            --accent-color: #4F46E5; /* Indigo vibrant */
            --organic-color: #FCA5A5; /* Teinte chaude/humaine */
            --geometric-color: #60A5FA; /* Teinte froide/machine */
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 40px;
            padding-top: 20px;
            padding-bottom: 40px;
        }

        h1 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 0;
            letter-spacing: -0.02em;
        }

        /* 1. SECTION SUPPORT */
        .section-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 12px;
            display: block;
        }

        .media-selector {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .media-btn {
            background: none;
            border: none;
            font-size: 1.1rem;
            font-weight: 500;
            color: #999;
            cursor: pointer;
            padding: 5px 0;
            position: relative;
            transition: color 0.3s;
        }

        .media-btn.active {
            color: var(--text-color);
        }

        .media-btn.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--text-color);
            border-radius: 2px; 
        }

        /* 2. VISUAL METAPHOR & SLIDER */
        .visual-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 20px 0;
        }

        /* La forme changeante */
        .shape-display {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, var(--organic-color), var(--geometric-color));
            transition: all 0.5s ease;
            /* Forme initiale organique */
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            opacity: 0.9;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: white;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            user-select: none;
        }

        .slider-container {
            width: 100%;
            position: relative;
        }

        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: #E5E5E5;
            border-radius: 3px;
            outline: none;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            background: var(--text-color);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        input[type=range]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #888;
            margin-top: 10px;
        }

        /* 3. CHIPS */
        .chips-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            min-height: 50px;
        }

        .chip {
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid #E5E5E5;
            background: white;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }
        
        /* On met la majuscule visuellement, mais la donnée reste lowercase */
        .chip::first-letter {
            text-transform: uppercase;
        }

        .chip:hover {
            border-color: #CCC;
        }

        .chip.selected {
            background-color: var(--text-color);
            color: white;
            border-color: var(--text-color);
        }

        /* 4. OUTPUT & ACTION */
        .output-box {
            background-color: #F3F4F6;
            padding: 20px;
            border-radius: 12px;
            font-size: 1.1rem;
            line-height: 1.6;
            color: #333;
            border-left: 4px solid var(--accent-color);
        }

        .copy-btn {
            background-color: var(--text-color);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background 0.3s, transform 0.1s;
        }

        .copy-btn:hover {
            background-color: #333;
        }

        .copy-btn:active {
            transform: scale(0.98);
        }
        
        .success {
            background-color: #10B981 !important; /* Vert succès */
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.3rem; }
            .shape-display { width: 100px; height: 100px; }
        }
    </style>
</head>
<body>

    <div class="container">
        
        <header>
            <h1>Générateur de transparence</h1>
        </header>

        <section>
            <span class="section-label">Tu as bossé sur quoi ?</span>
            <div class="media-selector" id="mediaSelector">
                <button class="media-btn active" data-value="Texte">Texte</button>
                <button class="media-btn" data-value="Visuel">Visuel</button>
                <button class="media-btn" data-value="Code">Code</button>
                <button class="media-btn" data-value="Audio">Audio</button>
            </div>
        </section>

        <section>
            <span class="section-label">Quelle est la part de l'IA ?</span>
            
            <div class="visual-container">
                <div class="shape-display" id="visualShape">
                    <span id="zoneLabel">Assistance</span>
                </div>

                <div class="slider-container">
                    <input type="range" min="0" max="100" value="10" id="aiSlider">
                    <div class="slider-labels">
                        <span>Juste moi</span>
                        <span>Duo</span>
                        <span>Pilotage IA</span>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <span class="section-label">Précise ton usage (sélection multiple) :</span>
            <div class="chips-container" id="chipsContainer">
                </div>
        </section>

        <section>
            <div class="output-box" id="outputSentence">
                Chargement...
            </div>
        </section>

        <button class="copy-btn" id="copyBtn">Copier ma transparence</button>

    </div>

    <script>
        // --- DONNÉES ---
        // Les chips sont en minuscules pour s'insérer dans les phrases
        const ZONES = {
            ASSISTANCE: { label: 'Assistance', chips: ['relu·e', 'corrigé·e', 'documenté·e', 'inspiré·e', 'structuré·e', 'traduit·e'] },
            HYBRIDATION: { label: 'Hybridation', chips: ['co-écrit·e', 'complété·e', 'reformulé·e', 'mixé·e', 'adapté·e'] },
            GENERATION: { label: 'Génération', chips: ['prompté·e', 'généré·e', 'curaté·e', 'sélectionné·e', 'retouché·e'] }
        };

        // --- ÉTAT GLOBAL ---
        let state = {
            media: 'Texte',
            sliderValue: 10,
            currentZone: 'ASSISTANCE',
            selectedChips: []
        };

        // --- DOM ELEMENTS ---
        const mediaBtns = document.querySelectorAll('.media-btn');
        const slider = document.getElementById('aiSlider');
        const visualShape = document.getElementById('visualShape');
        const zoneLabel = document.getElementById('zoneLabel');
        const chipsContainer = document.getElementById('chipsContainer');
        const outputSentence = document.getElementById('outputSentence');
        const copyBtn = document.getElementById('copyBtn');

        // --- LOGIQUE ---

        function init() {
            updateVisual();
            renderChips();
            generateSentence();
        }

        // 1. Gestion du Slider et des Zones
        slider.addEventListener('input', (e) => {
            state.sliderValue = parseInt(e.target.value);
            updateVisual();
            
            let newZone = '';
            if (state.sliderValue <= 33) newZone = 'ASSISTANCE';
            else if (state.sliderValue <= 66) newZone = 'HYBRIDATION';
            else newZone = 'GENERATION';

            if (newZone !== state.currentZone) {
                state.currentZone = newZone;
                state.selectedChips = []; // Reset chips quand on change de zone
                renderChips();
            }
            generateSentence();
        });

        // 2. Mise à jour visuelle (Organique vs Géométrique)
        function updateVisual() {
            const val = state.sliderValue;
            
            // Interpolation du border-radius
            // 0% = Organique (valeurs randomisées pour effet blob)
            // 100% = Géométrique (0px)
            const r1 = 60 - (val * 0.6); 
            const r2 = 40 - (val * 0.4); 
            const r3 = 30 - (val * 0.3);
            const r4 = 70 - (val * 0.7);

            // Si on est proche de 100, on force le carré parfait
            const borderRadius = val > 90 
                ? '4px' 
                : `${r1}% ${r2}% ${r3}% ${r4}% / ${r1}% ${r3}% ${r4}% ${r2}%`;

            visualShape.style.borderRadius = borderRadius;
            zoneLabel.textContent = ZONES[state.currentZone].label;
        }

        // 3. Gestion du support (Media)
        mediaBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                mediaBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                state.media = btn.getAttribute('data-value');
                generateSentence();
            });
        });

        // 4. Gestion des Chips
        function renderChips() {
            chipsContainer.innerHTML = '';
            const currentChipsList = ZONES[state.currentZone].chips;

            currentChipsList.forEach(chipText => {
                const chip = document.createElement('div');
                chip.className = 'chip';
                chip.textContent = chipText; // Sera capitalisé par CSS
                
                chip.addEventListener('click', () => {
                    chip.classList.toggle('selected');
                    if (state.selectedChips.includes(chipText)) {
                        state.selectedChips = state.selectedChips.filter(c => c !== chipText);
                    } else {
                        state.selectedChips.push(chipText);
                    }
                    generateSentence();
                });

                chipsContainer.appendChild(chip);
            });
        }

        // 5. Générateur de phrase élaborée
        function generateSentence() {
            // Création de la liste des actions (ex: "relu·e, corrigé·e et traduit·e")
            let actionsList = [...state.selectedChips]; // Copie pour ne pas muter l'état
            let actionsString = '...';
            
            if (actionsList.length > 0) {
                if (actionsList.length === 1) {
                    actionsString = actionsList[0];
                } else {
                    const last = actionsList.pop();
                    actionsString = actionsList.join(', ') + ' et ' + last;
                }
            }

            let sentence = '';
            const m = state.media.toLowerCase(); 

            // SCÉNARIO 1 : ASSISTANCE
            if (state.currentZone === 'ASSISTANCE') {
                if (state.selectedChips.length === 0) {
                    sentence = `Conception et réalisation garanties 100% humaines. L'IA a été utilisée uniquement comme outil de support technique ponctuel.`;
                } else {
                    sentence = `Paternité humaine garantie. Ce ${m} a été conçu par l'auteur·ice, l'IA intervenant uniquement pour qu'il soit ${actionsString}.`;
                }
            } 
            // SCÉNARIO 2 : HYBRIDATION
            else if (state.currentZone === 'HYBRIDATION') {
                 if (state.selectedChips.length === 0) {
                    sentence = `Symbiose créative : une production hybride où l'intelligence humaine et l'IA ont fusionné pour créer ce ${m}.`;
                } else {
                    sentence = `Co-création assumée. Ce ${m} est le fruit d'une collaboration Humain-IA : il a été ${actionsString} conjointement.`;
                }
            } 
            // SCÉNARIO 3 : GÉNÉRATION
            else if (state.currentZone === 'GENERATION') {
                if (state.selectedChips.length === 0) {
                    sentence = `Contenu synthétique généré par IA, produit sous la direction artistique stricte de l'humain.`;
                } else {
                    sentence = `Génération synthétique pilotée. La matière brute de ce ${m} est issue de l'IA, mais a été ${actionsString} par l'auteur·ice.`;
                }
            }

            outputSentence.textContent = sentence;
        }

        // 6. Bouton Copier
        copyBtn.addEventListener('click', () => {
            const textToCopy = outputSentence.textContent;
            navigator.clipboard.writeText(textToCopy).then(() => {
                const originalText = copyBtn.textContent;
                copyBtn.textContent = "C'est copié !";
                copyBtn.classList.add('success');
                
                setTimeout(() => {
                    copyBtn.textContent = originalText;
                    copyBtn.classList.remove('success');
                }, 2000);
            });
        });

        // Démarrage
        init();

    </script>
</body>
</html>
